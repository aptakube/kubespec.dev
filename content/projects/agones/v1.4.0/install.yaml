---
# Source: agones/templates/serviceaccounts/controller.yaml
# Copyright 2018 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
apiVersion: v1
kind: ServiceAccount
metadata:
  name: agones-controller
  namespace: agones-system
  labels:
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: agones-controller
  namespace: agones-system
  labels:
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
rules:
- apiGroups: [""]
  resources: ["events"]
  verbs: ["create", "patch"]
- apiGroups: [""]
  resources: ["pods"]
  verbs: ["create", "delete", "list", "watch"]
- apiGroups: [""]
  resources: ["nodes", "secrets"]
  verbs: ["list", "watch"]
- apiGroups: ["apiextensions.k8s.io"]
  resources: ["customresourcedefinitions"]
  verbs: ["get"]
- apiGroups: ["agones.dev"]
  resources: ["gameservers", "gameserversets"]
  verbs: ["create", "delete", "get", "list", "update", "watch"]
- apiGroups: ["agones.dev"]
  resources: ["gameservers"]
  verbs: ["patch"]
- apiGroups: ["agones.dev"]
  resources: ["fleets"]
  verbs: ["get", "list", "update", "watch"]
- apiGroups: ["agones.dev"]
  resources: ["fleets/status", "gameserversets/status"]
  verbs: ["update"]
- apiGroups: ["multicluster.agones.dev"]
  resources: ["gameserverallocationpolicies"]
  verbs: ["create", "delete", "get", "list", "update", "watch"]
- apiGroups: ["autoscaling.agones.dev"]
  resources: ["fleetautoscalers"]
  verbs: ["get", "list", "update", "watch"]
- apiGroups: ["autoscaling.agones.dev"]
  resources: ["fleetautoscalers/status"]
  verbs: ["update"]
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: agones-controller-access
  namespace: agones-system
  labels:
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
subjects:
- kind: User
  name: system:serviceaccount:agones-system:agones-controller
  apiGroup: rbac.authorization.k8s.io
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: agones-controller
---
#
# RBACs for APIService
#
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: agones-controller:system:auth-delegator
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: system:auth-delegator
subjects:
  - kind: ServiceAccount
    name: agones-controller
    namespace: agones-system
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: agones-controller-auth-reader
  namespace: kube-system
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: extension-apiserver-authentication-reader
subjects:
  - kind: ServiceAccount
    name: agones-controller
    namespace: agones-system

---
# Source: agones/templates/serviceaccounts/sdk.yaml
# Copyright 2018 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
apiVersion: v1
kind: ServiceAccount
metadata:
  name: agones-sdk
  namespace: default
  labels:
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: agones-sdk
  namespace: agones-system
  labels:
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
rules:
- apiGroups: [""]
  resources: ["events"]
  verbs: ["create"]
- apiGroups: ["agones.dev"]
  resources: ["gameservers"]
  verbs: ["list", "update", "watch"]
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: agones-sdk-access
  namespace: default
  labels:
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
subjects:
- kind: User
  name: system:serviceaccount:default:agones-sdk
  apiGroup: rbac.authorization.k8s.io
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: agones-sdk
---

---
# Source: agones/templates/crds/fleet.yaml
# Copyright 2018 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: fleets.agones.dev
  labels:
    component: crd
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
spec:
  additionalPrinterColumns:
  - JSONPath: .spec.scheduling
    name: Scheduling
    type: string
  - JSONPath: .spec.replicas
    name: Desired
    type: integer
  - JSONPath: .status.replicas
    name: Current
    type: integer
  - JSONPath: .status.allocatedReplicas
    name: Allocated
    type: integer
  - JSONPath: .status.readyReplicas
    name: Ready
    type: integer
  - JSONPath: .metadata.creationTimestamp
    name: Age
    type: date
  group: agones.dev
  version: v1
  scope: Namespaced
  names:
    kind: Fleet
    plural: fleets
    shortNames:
    - flt
    singular: fleet
  validation:
    openAPIV3Schema:
      properties:
        spec:
          required:
            - template
          properties:
            replicas:
              type: integer
              minimum: 0
            scheduling:
              type: string
              enum:
              - Packed
              - Distributed
            strategy:
              properties:
                type:
                  type: string
                  enum:
                    - Recreate
                    - RollingUpdate
            template:              
              required:
              - spec
              properties:
                spec:
                  required:
                  - template
                  properties:
                    template:
                      type: object
                      required:
                      - spec
                      properties:
                        spec:
                          type: object
                          required:
                          - containers
                          properties:
                            containers:
                              type: array
                              minItems: 1
                              items:
                                type: object
                                required:
                                - image
                                properties:
                                  name:
                                    type: string
                                    minLength: 0
                                    maxLength: 63
                                    pattern: "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
                                  image:
                                    type: string
                                    minLength: 1
                    container:
                      title: The container name running the gameserver
                      description: if there is more than one container, specify which one is the game server
                      type: string
                      minLength: 0
                      maxLength: 63
                      pattern: "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
                    ports:
                      title: array of ports to expose on the game server container
                      type: array
                      minItems: 1
                      items:
                        type: object
                        properties:
                          portPolicy:
                            title: the port policy that will be applied to the game server
                            description: |
                                portPolicy has three options:
                                - "Dynamic" (default) the system allocates a random free hostPort for the gameserver, for game clients to connect to
                                - "Static", user defines the hostPort that the game client will connect to. Then onus is on the user to ensure that the
                                port is available. When static is the policy specified, `hostPort` is required to be populated
                                - "Passthrough" dynamically sets the `containerPort` to the same value as the dynamically selected hostPort.
                                This will mean that users will need to lookup what port has been opened through the server side SDK.
                            type: string
                            enum:
                            - Dynamic
                            - Static
                            - Passthrough
                          protocol:
                            title: Protocol being used. Defaults to UDP. TCP is the only other option
                            type: string
                            enum:
                            - UDP
                            - TCP
                          containerPort:
                            title: The port that is being opened on the game server process
                            type: integer
                            minimum: 1
                            maximum: 65535
                          hostPort:
                            title: The port exposed on the host
                            description: Only required when `portPolicy` is "Static". Overwritten when portPolicy is "Dynamic" or "Passthrough".
                            type: integer
                            minimum: 1
                            maximum: 65535
                    sdkServer:
                      type: object
                      title: Parameters for the SDK Server (sidecar)
                      properties:
                        logLevel:
                          type: string 
                          description: |
                            sdkServer log level parameter has three options:
                            - "Info" (default) The SDK server will output all messages except for debug messages
                            - "Debug" The SDK server will output all messages including debug messages
                            - "Error" The SDK server will only output error messages
                          enum:
                          - Error
                          - Info
                          - Debug
                        grpcPort:
                          title: The port on which the SDK server binds the gRPC server to accept incoming connections
                          description: |
                            Starting with Agones 1.2 the default gRPC port is 9357. In earlier releases, the default was 59357.
                          type: integer
                          minimum: 1
                          maximum: 65535
                        httpPort:
                          title: The port on which the SDK server binds the HTTP gRPC gateway server to accept incoming connections
                          description: |
                            Starting with Agones 1.2 the default HTTP port is 9358. In earlier releases, the default was 59358.
                          type: integer
                          minimum: 1
                          maximum: 65535
                    scheduling:
                      type: string
                      enum:
                      - Packed
                      - Distributed
                    health:
                      type: object
                      title: Health checking for the running game server
                      properties:
                        disabled:
                          title: Disable health checking. defaults to false, but can be set to true
                          type: boolean
                        initialDelaySeconds:
                          title: Number of seconds after the container has started before health check is initiated. Defaults to 5 seconds
                          type: integer
                          minimum: 0
                          maximum: 2147483648
                        periodSeconds:
                          title: How long before the server is considered not healthy
                          type: integer
                          minimum: 0
                          maximum: 2147483648
                        failureThreshold:
                          title: Minimum consecutive failures for the health probe to be considered failed after having succeeded.
                          type: integer
                          minimum: 1
                          maximum: 2147483648
                    alpha:
                      type: object
                      title: Alpha properties for the GameServer
                      properties:
                        players:
                          type: object
                          title: Configuration of player capacity
                          properties:
                            initialCapacity:
                              type: integer
                              title: The initial player capacity of this Game Server
                              minimum: 0
                            webhook:
                              type: object
                              title: webhook to call when a player connects or disconnects
                              properties:
                                service:
                                  properties:
                                    name:
                                      type: string
                                    namespace:
                                      type: string
                                    path:
                                      type: string
                                url:
                                  type: string
                                caBundle:
                                  type: string
  subresources:
    # status enables the status subresource.
    status: {}
    # scale enables the scale subresource.
    scale:
      # specReplicasPath defines the JSONPath inside of a custom resource that corresponds to Scale.Spec.Replicas.
      specReplicasPath: .spec.replicas
      # statusReplicasPath defines the JSONPath inside of a custom resource that corresponds to Scale.Status.Replicas.
      statusReplicasPath: .status.replicas
      # labelSelectorPath defines the JSONPath inside of a custom resource that corresponds to Scale.Status.Selector.
      labelSelectorPath: .status.labelSelector

---
# Source: agones/templates/crds/fleetautoscaler.yaml
# Copyright 2018 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: fleetautoscalers.autoscaling.agones.dev
  labels:
    component: crd
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
spec:
  group: autoscaling.agones.dev
  version: v1
  scope: Namespaced
  names:
    kind: FleetAutoscaler
    plural: fleetautoscalers
    shortNames:
    - fas
    singular: fleetautoscaler
  validation:
    openAPIV3Schema:
      properties:
        spec:
          required:
            - fleetName
            - policy
          properties:
            fleetName:
              type: string
              minLength: 1
              maxLength: 63
              pattern: "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
            policy:
              required:
                - type
              properties:
                type:
                  type: string
                  enum:
                  - Buffer
                  - Webhook
                buffer:
                  required:
                    - maxReplicas
                  properties:
                    minReplicas:
                      type: integer
                      minimum: 0
                    maxReplicas:
                      type: integer
                      minimum: 1
                webhook:
                  properties:
                    service:
                      properties:
                        name:
                          type: string
                        namespace:
                          type: string
                        path:
                          type: string
                    url:
                      type: string
                    caBundle:
                      type: string
  subresources:
    # status enables the status subresource.
    status: {}

---
# Source: agones/templates/crds/gameserver.yaml
# Copyright 2018 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: gameservers.agones.dev
  labels:
    component: crd
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
spec:
  group: agones.dev
  version: v1
  scope: Namespaced
  additionalPrinterColumns:
  - JSONPath: .status.state
    name: State
    type: string
  - JSONPath: .status.address
    name: Address
    type: string
  - JSONPath: .status.ports[0].port
    name: Port
    type: string
  - JSONPath: .status.nodeName
    name: Node
    type: string
  - JSONPath: .metadata.creationTimestamp
    name: Age
    type: date
  names:
    kind: GameServer
    plural: gameservers
    shortNames:
    - gs
    singular: gameserver
  validation:
    openAPIV3Schema:      
      required:
      - spec
      properties:
        spec:
          required:
          - template
          properties:
            template:
              type: object
              required:
              - spec
              properties:
                spec:
                  type: object
                  required:
                  - containers
                  properties:
                    containers:
                      type: array
                      minItems: 1
                      items:
                        type: object
                        required:
                        - image
                        properties:
                          name:
                            type: string
                            minLength: 0
                            maxLength: 63
                            pattern: "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
                          image:
                            type: string
                            minLength: 1
            container:
              title: The container name running the gameserver
              description: if there is more than one container, specify which one is the game server
              type: string
              minLength: 0
              maxLength: 63
              pattern: "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
            ports:
              title: array of ports to expose on the game server container
              type: array
              minItems: 1
              items:
                type: object
                properties:
                  portPolicy:
                    title: the port policy that will be applied to the game server
                    description: |
                        portPolicy has three options:
                        - "Dynamic" (default) the system allocates a random free hostPort for the gameserver, for game clients to connect to
                        - "Static", user defines the hostPort that the game client will connect to. Then onus is on the user to ensure that the
                        port is available. When static is the policy specified, `hostPort` is required to be populated
                        - "Passthrough" dynamically sets the `containerPort` to the same value as the dynamically selected hostPort.
                        This will mean that users will need to lookup what port has been opened through the server side SDK.
                    type: string
                    enum:
                    - Dynamic
                    - Static
                    - Passthrough
                  protocol:
                    title: Protocol being used. Defaults to UDP. TCP is the only other option
                    type: string
                    enum:
                    - UDP
                    - TCP
                  containerPort:
                    title: The port that is being opened on the game server process
                    type: integer
                    minimum: 1
                    maximum: 65535
                  hostPort:
                    title: The port exposed on the host
                    description: Only required when `portPolicy` is "Static". Overwritten when portPolicy is "Dynamic" or "Passthrough".
                    type: integer
                    minimum: 1
                    maximum: 65535
            sdkServer:
              type: object
              title: Parameters for the SDK Server (sidecar)
              properties:
                logLevel:
                  type: string 
                  description: |
                    sdkServer log level parameter has three options:
                    - "Info" (default) The SDK server will output all messages except for debug messages
                    - "Debug" The SDK server will output all messages including debug messages
                    - "Error" The SDK server will only output error messages
                  enum:
                  - Error
                  - Info
                  - Debug
                grpcPort:
                  title: The port on which the SDK server binds the gRPC server to accept incoming connections
                  description: |
                    Starting with Agones 1.2 the default gRPC port is 9357. In earlier releases, the default was 59357.
                  type: integer
                  minimum: 1
                  maximum: 65535
                httpPort:
                  title: The port on which the SDK server binds the HTTP gRPC gateway server to accept incoming connections
                  description: |
                    Starting with Agones 1.2 the default HTTP port is 9358. In earlier releases, the default was 59358.
                  type: integer
                  minimum: 1
                  maximum: 65535
            scheduling:
              type: string
              enum:
              - Packed
              - Distributed
            health:
              type: object
              title: Health checking for the running game server
              properties:
                disabled:
                  title: Disable health checking. defaults to false, but can be set to true
                  type: boolean
                initialDelaySeconds:
                  title: Number of seconds after the container has started before health check is initiated. Defaults to 5 seconds
                  type: integer
                  minimum: 0
                  maximum: 2147483648
                periodSeconds:
                  title: How long before the server is considered not healthy
                  type: integer
                  minimum: 0
                  maximum: 2147483648
                failureThreshold:
                  title: Minimum consecutive failures for the health probe to be considered failed after having succeeded.
                  type: integer
                  minimum: 1
                  maximum: 2147483648
            alpha:
              type: object
              title: Alpha properties for the GameServer
              properties:
                players:
                  type: object
                  title: Configuration of player capacity
                  properties:
                    initialCapacity:
                      type: integer
                      title: The initial player capacity of this Game Server
                      minimum: 0
                    webhook:
                      type: object
                      title: webhook to call when a player connects or disconnects
                      properties:
                        service:
                          properties:
                            name:
                              type: string
                            namespace:
                              type: string
                            path:
                              type: string
                        url:
                          type: string
                        caBundle:
                          type: string

---
# Source: agones/templates/crds/gameserverallocationpolicy.yaml
# Copyright 2019 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  creationTimestamp: null
  labels:
    controller-tools.k8s.io: "1.0"
    component: crd
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
  name: gameserverallocationpolicies.multicluster.agones.dev
spec:
  group: multicluster.agones.dev
  versions:
  - name: v1
    served: true
    storage: true
  - name: v1alpha1
    # Disable the v1alpha1 version, but include it for inplace upgrade.
    served: false
    storage: false
  names:
    kind: GameServerAllocationPolicy
    plural: gameserverallocationpolicies
  scope: Namespaced
  validation:
    openAPIV3Schema:
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation
            of an object. Servers should convert recognized schemas to the latest
            internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this
            object represents. Servers may infer this from the endpoint the client
            submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          properties:
            connectionInfo:
              properties:
                secretName:
                  type: string
                allocationEndpoints:
                  items:
                    type: string
                  type: array
                  minItems: 1
                clusterName:
                  type: string
                namespace:
                  type: string
              required:
              - namespace
              type: object
            priority:
              format: int32
              minimum: 0
              type: integer
            weight:
              format: int64
              minimum: 0
              type: integer
          required:
          - priority
          - weight
          type: object
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []

---
# Source: agones/templates/crds/gameserverset.yaml
# Copyright 2018 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: gameserversets.agones.dev
  labels:
    component: crd
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
spec:
  additionalPrinterColumns:
  - JSONPath: .spec.scheduling
    name: Scheduling
    type: string
  - JSONPath: .spec.replicas
    name: Desired
    type: integer
  - JSONPath: .status.replicas
    name: Current
    type: integer
  - JSONPath: .status.allocatedReplicas
    name: Allocated
    type: integer
  - JSONPath: .status.readyReplicas
    name: Ready
    type: integer
  - JSONPath: .metadata.creationTimestamp
    name: Age
    type: date
  group: agones.dev
  version: v1
  scope: Namespaced
  names:
    kind: GameServerSet
    plural: gameserversets
    shortNames:
    - gss
    - gsset
    singular: gameserverset
  validation:
    openAPIV3Schema:
      properties:
        spec:
          required:
            - replicas
            - template
          properties:
            replicas:
              type: integer
              minimum: 0
            scheduling:
              type: string
              enum:
              - Packed
              - Distributed
            template:              
              required:
              - spec
              properties:
                spec:
                  required:
                  - template
                  properties:
                    template:
                      type: object
                      required:
                      - spec
                      properties:
                        spec:
                          type: object
                          required:
                          - containers
                          properties:
                            containers:
                              type: array
                              minItems: 1
                              items:
                                type: object
                                required:
                                - image
                                properties:
                                  name:
                                    type: string
                                    minLength: 0
                                    maxLength: 63
                                    pattern: "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
                                  image:
                                    type: string
                                    minLength: 1
                    container:
                      title: The container name running the gameserver
                      description: if there is more than one container, specify which one is the game server
                      type: string
                      minLength: 0
                      maxLength: 63
                      pattern: "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"
                    ports:
                      title: array of ports to expose on the game server container
                      type: array
                      minItems: 1
                      items:
                        type: object
                        properties:
                          portPolicy:
                            title: the port policy that will be applied to the game server
                            description: |
                                portPolicy has three options:
                                - "Dynamic" (default) the system allocates a random free hostPort for the gameserver, for game clients to connect to
                                - "Static", user defines the hostPort that the game client will connect to. Then onus is on the user to ensure that the
                                port is available. When static is the policy specified, `hostPort` is required to be populated
                                - "Passthrough" dynamically sets the `containerPort` to the same value as the dynamically selected hostPort.
                                This will mean that users will need to lookup what port has been opened through the server side SDK.
                            type: string
                            enum:
                            - Dynamic
                            - Static
                            - Passthrough
                          protocol:
                            title: Protocol being used. Defaults to UDP. TCP is the only other option
                            type: string
                            enum:
                            - UDP
                            - TCP
                          containerPort:
                            title: The port that is being opened on the game server process
                            type: integer
                            minimum: 1
                            maximum: 65535
                          hostPort:
                            title: The port exposed on the host
                            description: Only required when `portPolicy` is "Static". Overwritten when portPolicy is "Dynamic" or "Passthrough".
                            type: integer
                            minimum: 1
                            maximum: 65535
                    sdkServer:
                      type: object
                      title: Parameters for the SDK Server (sidecar)
                      properties:
                        logLevel:
                          type: string 
                          description: |
                            sdkServer log level parameter has three options:
                            - "Info" (default) The SDK server will output all messages except for debug messages
                            - "Debug" The SDK server will output all messages including debug messages
                            - "Error" The SDK server will only output error messages
                          enum:
                          - Error
                          - Info
                          - Debug
                        grpcPort:
                          title: The port on which the SDK server binds the gRPC server to accept incoming connections
                          description: |
                            Starting with Agones 1.2 the default gRPC port is 9357. In earlier releases, the default was 59357.
                          type: integer
                          minimum: 1
                          maximum: 65535
                        httpPort:
                          title: The port on which the SDK server binds the HTTP gRPC gateway server to accept incoming connections
                          description: |
                            Starting with Agones 1.2 the default HTTP port is 9358. In earlier releases, the default was 59358.
                          type: integer
                          minimum: 1
                          maximum: 65535
                    scheduling:
                      type: string
                      enum:
                      - Packed
                      - Distributed
                    health:
                      type: object
                      title: Health checking for the running game server
                      properties:
                        disabled:
                          title: Disable health checking. defaults to false, but can be set to true
                          type: boolean
                        initialDelaySeconds:
                          title: Number of seconds after the container has started before health check is initiated. Defaults to 5 seconds
                          type: integer
                          minimum: 0
                          maximum: 2147483648
                        periodSeconds:
                          title: How long before the server is considered not healthy
                          type: integer
                          minimum: 0
                          maximum: 2147483648
                        failureThreshold:
                          title: Minimum consecutive failures for the health probe to be considered failed after having succeeded.
                          type: integer
                          minimum: 1
                          maximum: 2147483648
                    alpha:
                      type: object
                      title: Alpha properties for the GameServer
                      properties:
                        players:
                          type: object
                          title: Configuration of player capacity
                          properties:
                            initialCapacity:
                              type: integer
                              title: The initial player capacity of this Game Server
                              minimum: 0
                            webhook:
                              type: object
                              title: webhook to call when a player connects or disconnects
                              properties:
                                service:
                                  properties:
                                    name:
                                      type: string
                                    namespace:
                                      type: string
                                    path:
                                      type: string
                                url:
                                  type: string
                                caBundle:
                                  type: string
  subresources:
    # status enables the status subresource.
    status: {}
    # scale enables the scale subresource.
    scale:
      # specReplicasPath defines the JSONPath inside of a custom resource that corresponds to Scale.Spec.Replicas.
      specReplicasPath: .spec.replicas
      # statusReplicasPath defines the JSONPath inside of a custom resource that corresponds to Scale.Status.Replicas.
      statusReplicasPath: .status.replicas
      # labelSelectorPath defines the JSONPath inside of a custom resource that corresponds to Scale.Status.Selector.
      labelSelectorPath: .status.labelSelector

---
# Source: agones/templates/service.yaml
# Copyright 2018 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: v1
kind: Service
metadata:
  name: agones-controller-service
  namespace: agones-system
  labels:
    agones.dev/role: controller
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
spec:
  selector:
    agones.dev/role: controller
  ports:
    - name: webhooks
      port: 443
      targetPort: 8081
    - name: web
      port: 8080
---
# Source: agones/templates/service/allocation.yaml
# Copyright 2019 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# Define a Service for the agones-allocator
apiVersion: v1
kind: Service
metadata:
  name: agones-allocator
  namespace: agones-system
  labels:
    component: allocator
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
spec:
  selector:
    multicluster.agones.dev/role: allocator
  ports:
    - port: 443
      name: https
      targetPort: 8443
      protocol: TCP
  type: LoadBalancer

---
# Deploy a pod to run the agones-allocator code
apiVersion: apps/v1
kind: Deployment
metadata:
  name: agones-allocator
  namespace: agones-system
  labels:
    multicluster.agones.dev/role: allocator
    app: agones
    release: agones-manual
    heritage: Tiller
spec:
  replicas: 3
  selector:
    matchLabels:
      multicluster.agones.dev/role: allocator
      app: agones
      release: agones-manual
      heritage: Tiller
  template:
    metadata:
      annotations:
      labels:
        multicluster.agones.dev/role: allocator
        app: agones
        release: agones-manual
        heritage: Tiller
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/port: "8080"
        prometheus.io/path: "/metrics"
    spec:
      affinity:
        nodeAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - preference:
              matchExpressions:
              - key: agones.dev/agones-system
                operator: Exists
            weight: 1
        
      tolerations:
        - effect: NoExecute
          key: agones.dev/agones-system
          operator: Equal
          value: "true"
        
      serviceAccountName: agones-allocator
      volumes:
      - name: tls
        secret:
          secretName: allocator-tls
      - name: client-ca
        secret:
          secretName: allocator-client-ca
      containers:
      - name: agones-allocator
        image: "gcr.io/agones-images/agones-allocator:1.4.0"
        imagePullPolicy: IfNotPresent
        livenessProbe:
          httpGet:
            path: /live
            port: 8080
          initialDelaySeconds: 3
          periodSeconds: 3
          failureThreshold: 3
          timeoutSeconds: 1
        readinessProbe:
          httpGet:
            path: /ready
            port: 8080
        env:
        - name: PROMETHEUS_EXPORTER
          value: "true"
        - name: STACKDRIVER_EXPORTER
          value: "false"
        - name: GCP_PROJECT_ID
          value: ""
        - name: STACKDRIVER_LABELS
          value: ""
        - name: POD_NAME
          valueFrom:
            fieldRef:
              fieldPath: metadata.name
        - name: POD_NAMESPACE
          valueFrom:
            fieldRef:
              fieldPath: metadata.namespace
        - name: CONTAINER_NAME
          value: "agones-allocator"
        - name: FEATURE_GATES
          value: ""
        ports:
        - name: https
          containerPort: 8443
        volumeMounts:
        - mountPath: /home/allocator/tls
          name: tls
          readOnly: true
        - mountPath: /home/allocator/client-ca
          name: client-ca
          readOnly: true

---
# Create a ClusterRole in that grants access to the agones allocation api
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: agones-allocator
  namespace: agones-system
  labels:
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
rules:
- apiGroups: [""]
  resources: ["events"]
  verbs: ["create", "patch"]
- apiGroups: ["allocation.agones.dev"]
  resources: ["gameserverallocations"]
  verbs: ["create"]
- apiGroups: [""]
  resources: ["nodes", "secrets"]
  verbs: ["get", "list", "watch"]
- apiGroups: ["agones.dev"]
  resources: ["gameservers", "gameserversets"]
  verbs: ["get", "list", "update", "watch"]
- apiGroups: ["agones.dev"]
  resources: ["gameservers"]
  verbs: ["patch"]
- apiGroups: ["multicluster.agones.dev"]
  resources: ["gameserverallocationpolicies"]
  verbs: ["get", "list", "watch"]

---
# Create a ServiceAccount that will be bound to the above role
apiVersion: v1
kind: ServiceAccount
metadata:
  name: agones-allocator
  namespace: agones-system
  labels:
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller

---
# Bind the agones-allocator ServiceAccount to the agones-allocator ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: agones-allocator
  namespace: agones-system
  labels:
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
subjects:
- kind: ServiceAccount
  name: agones-allocator
  namespace: agones-system
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: agones-allocator

---
# Allocation CA
apiVersion: v1
kind: Secret
metadata:
  name: allocator-client-ca
  namespace: agones-system
  labels:
    app: agones-manual
    chart: "agones-1.4.0"
    release: "agones-manual"
    heritage: "Tiller"
data:
  ca.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM0akNDQWNxZ0F3SUJBZ0lSQU9lTWcwK1JKaFBJbks5ekFpMnpoUjR3RFFZSktvWklodmNOQVFFTEJRQXcKR0RFV01CUUdBMVVFQXhNTllXeHNiMk5oZEdsdmJpMWpZVEFlRncweE9UQTJNVGt4T0RRek5UVmFGdzB5T1RBMgpNVFl4T0RRek5UVmFNQUF3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRDZMSm5DCmk5RmZnc0Z4MVQremNScm5FNEZRNUNQVUVQOEdrUHNxSE1ic21EelArMEIrVWtFK3k1cGpWbGcrdThxbHNkQ24KenRRVlU1OC9sejJTUDdBZnNIMTNISUpzaTZ4azc3M1hSRVE0NlhxSnBvblg3NjRSajJ5Zjd4T25KMDRidGxUSgp0M3E4U0IvUFk3c2tXdHlRTjJQRDN4QVN0REVXbnUvdzNHMUxNNzYyWGJ3a1o3VlJUY1hFdEpUaTY3dWlwdy96CmhVaU9NcFplT1YxV09neit4cjJQZTZmK0NObTNYUzNVblhjUzhKYmlxajhXQmM4bzdaS2VyRnJlNGFMRElldFkKK3g5M1lYWDZYNjNCZDNvZ3JlR3BmeFdRU3hBYTBHUEtLa1dvaHNESWZRREYwZ0pKcjZSc0prOVVOWEZyaHJqMApUSTRzTGRMbCthdlJMSjFQQWdNQkFBR2pQekE5TUE0R0ExVWREd0VCL3dRRUF3SUZvREFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEQVlEVlIwVEFRSC9CQUl3QURBTkJna3Foa2lHOXcwQkFRc0YKQUFPQ0FRRUFKZ1ErVzZlYTdKZjhldmp0cWNmRC9EZUVMYzRLcFFwdk9NR0ZGVDkzQTM4bWFzeFNxVXluOGk4RgppaEplNDZFZnFkREQvcWRWSDh4TkJId2NIcjgyVDVLcFkzTWc1amJPWG1iMEoxZEdSTFRHSmdGd0ZpUXdsM3J3CmZ4dWhlYnZvaTJkcVhQbGc3L2ZZZmVqN2RkbTAxMTdhRCtwUExCN0NNUGVLdk5QSHF2N0VBRlowOU8rRjM3cjkKNTBPZEMrSk1VK0FNczRVMzVVeEZGZjRVRHVIbWM4U0l0bTJra1U3Vk1TcDFaV1VuRVZFUExaU09SZ3dZdWFNcQo3WTgzOVpXVmtyRGZMUEJrS09Ec1BVMDI3NGdmbXBpTmNyVElYREhPY2hhcFByWG53eDhxLzcrZERYYlhoUk84ClFDK2lZWVY0MVlTSGt1djNiYUtrYXlYamV0czc3Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  

---
# Allocation TLS certs
apiVersion: v1
kind: Secret
type: kubernetes.io/tls
metadata:
  name: allocator-tls
  namespace: agones-system
  labels:
    app: agones-manual
    chart: "agones-1.4.0"
    release: "agones-manual"
    heritage: "Tiller"
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM0akNDQWNxZ0F3SUJBZ0lSQU9lTWcwK1JKaFBJbks5ekFpMnpoUjR3RFFZSktvWklodmNOQVFFTEJRQXcKR0RFV01CUUdBMVVFQXhNTllXeHNiMk5oZEdsdmJpMWpZVEFlRncweE9UQTJNVGt4T0RRek5UVmFGdzB5T1RBMgpNVFl4T0RRek5UVmFNQUF3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRDZMSm5DCmk5RmZnc0Z4MVQremNScm5FNEZRNUNQVUVQOEdrUHNxSE1ic21EelArMEIrVWtFK3k1cGpWbGcrdThxbHNkQ24KenRRVlU1OC9sejJTUDdBZnNIMTNISUpzaTZ4azc3M1hSRVE0NlhxSnBvblg3NjRSajJ5Zjd4T25KMDRidGxUSgp0M3E4U0IvUFk3c2tXdHlRTjJQRDN4QVN0REVXbnUvdzNHMUxNNzYyWGJ3a1o3VlJUY1hFdEpUaTY3dWlwdy96CmhVaU9NcFplT1YxV09neit4cjJQZTZmK0NObTNYUzNVblhjUzhKYmlxajhXQmM4bzdaS2VyRnJlNGFMRElldFkKK3g5M1lYWDZYNjNCZDNvZ3JlR3BmeFdRU3hBYTBHUEtLa1dvaHNESWZRREYwZ0pKcjZSc0prOVVOWEZyaHJqMApUSTRzTGRMbCthdlJMSjFQQWdNQkFBR2pQekE5TUE0R0ExVWREd0VCL3dRRUF3SUZvREFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEQVlEVlIwVEFRSC9CQUl3QURBTkJna3Foa2lHOXcwQkFRc0YKQUFPQ0FRRUFKZ1ErVzZlYTdKZjhldmp0cWNmRC9EZUVMYzRLcFFwdk9NR0ZGVDkzQTM4bWFzeFNxVXluOGk4RgppaEplNDZFZnFkREQvcWRWSDh4TkJId2NIcjgyVDVLcFkzTWc1amJPWG1iMEoxZEdSTFRHSmdGd0ZpUXdsM3J3CmZ4dWhlYnZvaTJkcVhQbGc3L2ZZZmVqN2RkbTAxMTdhRCtwUExCN0NNUGVLdk5QSHF2N0VBRlowOU8rRjM3cjkKNTBPZEMrSk1VK0FNczRVMzVVeEZGZjRVRHVIbWM4U0l0bTJra1U3Vk1TcDFaV1VuRVZFUExaU09SZ3dZdWFNcQo3WTgzOVpXVmtyRGZMUEJrS09Ec1BVMDI3NGdmbXBpTmNyVElYREhPY2hhcFByWG53eDhxLzcrZERYYlhoUk84ClFDK2lZWVY0MVlTSGt1djNiYUtrYXlYamV0czc3Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBK2l5WndvdlJYNExCY2RVL3MzRWE1eE9CVU9RajFCRC9CcEQ3S2h6RzdKZzh6L3RBCmZsSkJQc3VhWTFaWVBydktwYkhRcDg3VUZWT2ZQNWM5a2ord0g3QjlkeHlDYkl1c1pPKzkxMFJFT09sNmlhYUoKMSsrdUVZOXNuKzhUcHlkT0c3WlV5YmQ2dkVnZnoyTzdKRnJja0Rkanc5OFFFclF4RnA3djhOeHRTek8rdGwyOApKR2UxVVUzRnhMU1U0dXU3b3FjUDg0VklqaktXWGpsZFZqb00vc2E5ajN1bi9nalp0MTB0MUoxM0V2Q1c0cW8vCkZnWFBLTzJTbnF4YTN1R2l3eUhyV1BzZmQyRjErbCt0d1hkNklLM2hxWDhWa0VzUUd0Qmp5aXBGcUliQXlIMEEKeGRJQ1NhK2tiQ1pQVkRWeGE0YTQ5RXlPTEMzUzVmbXIwU3lkVHdJREFRQUJBb0lCQVFDK1JQV2NsU0prZGRvUwpiWkhKTkJpMTdvdkhyZnZoNmh0TUx6QVhVMU9uMWhGS1RWazd1ZXVOaXVTYzhLcWs2OGF3UnBEZlQ5clZiWWdNCm9VWmUyTGxuSUtBTDIwOEdweVF5a0hQZUtUbUozMmtuRDlaK3VQZTJ1MUp1UVRLOVNwT0pXQjhjVzhPcE4yR2EKSmN2TFZwK3h2NjdNNWZZZmc1UmlFL2VCUk9TSzhBc0ZFMUlTNmpSRzRVaC84U1dSUUdEYzlReU1Lc3lNbFNVZwphajB4ZWtsWUZDWXl0WUtCMnBaSGw0N1lUK1kzalR6cXN1ekhxK1hIM1hkT043bDk3eHZYZWJPTEJZRWorMGI1Cml4NEJ1bEJIQS9WRk93eXU2LzRKalptRHB1dVRpNnpNbVMyYXV0OW1EY3VoOUZjem1qQ0ZMcnAyWmJiMC9acDQKRkttZXRJR0JBb0dCQVAwSzk4V3kyN2xyVklrQ2JVTnpoNkdzeUhGSXZZYXY0cTJsSzJZVGdKRld2a0tGemFKagpmYWRZMHRmUHV6V3dPUU9nWkl3aW94TElOVFNSa0llbCtrQnFVMkNIblZOc3F4M05nSWk0S0g3K1ltS2ZFMFJtCkRaamV0YTlpTW52a0IyQXVSRUhDSEplVThYd2JNR2JnaXJNSmhlZmIwREJlY2xmZmwrbk8wSlFSQW9HQkFQMFoKRFBoU2RsQnBRMDFQcDVSNmpwaW1KaEIrNXNaejhsZXNiRlpSMDc2VHI5STJXQm1vY2t2dmZYWi8vWkRxSllaYgpoWkxEN09NdjFELy9MMDFvK1ZTaGRwNVovL05samw3NG5nV3VoY01GYmVLMjdhVmEyQTRmak1VMGE2a3NCZXM3CmkxZTRIOTJLOHpHVk9vOTV3dXhub3RtVEY1SHpncE9CUFhLY0NmdGZBb0dCQUlId3ZlZWh2ejlxSkZEdkZCak4KSE5zakZSTkhYVHZxMmlaOWFOblVMZk4wYmVOUFBwZWpLNFZpRVhPTlV2OXc3UFkxeVN4RkpTU2g5dUIxMTVndwozVjl5dWpvWnFlcUxKUnY2eVlScnZTL3BoYkJMSytPMTNFbWlJLzVhR0w2U0RFK1JzcTlwOUxES1pXOXJydUZGCmNUUWJNYzRzaks0cDhlRzZDaEtnaDI5aEFvR0JBTkdUK01WM296a2FzUHhIeFVDUjY1cERtcWwySzZxUlFFK1IKRzNTdTlXT043NzFsK3JYa1lpQzNBM0Vvc3ROWTBCSGRuMUhVbzBmTXh6am5Ha2hEY0pLLzBQVjNHUlozTmRrMgpqY091ckZ5OUZpenh4UDl6cGd5cjIybEE2eFYrdXJmNjZudU1uL1pYcE9HZDdJdjZDNHF1bG84TDJpeWxNNjdwCkNmVHBlT3FKQW9HQUF4cit6Qm1wSkNMbjJZcXJQRVRSUTE2K2Vna1ovMElIQWh4KzhTVlZnN2hjc2Z0MmJLSEoKWUJ2bVBlRnNaNjFTdmRHbXRtT2pqMkUremtFekZvQzhHWXpOU0hsbjFLYTh3UnNlVmI1UlJkWiswSnB5ZUFCWQpOVVlISDVjcWgxamdnQlg4eXExSmdPcDN1REZLQVFJelpCWnZXZ01YRFUwY2thS1pHQkxsQUYwPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=

---
# Allocation TLS CA
apiVersion: v1
kind: Secret
metadata:
  name: allocator-tls-ca
  namespace: agones-system
  labels:
    app: agones-manual
    chart: "agones-1.4.0"
    release: "agones-manual"
    heritage: "Tiller"
data:
  tls-ca.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM0akNDQWNxZ0F3SUJBZ0lSQU9lTWcwK1JKaFBJbks5ekFpMnpoUjR3RFFZSktvWklodmNOQVFFTEJRQXcKR0RFV01CUUdBMVVFQXhNTllXeHNiMk5oZEdsdmJpMWpZVEFlRncweE9UQTJNVGt4T0RRek5UVmFGdzB5T1RBMgpNVFl4T0RRek5UVmFNQUF3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRDZMSm5DCmk5RmZnc0Z4MVQremNScm5FNEZRNUNQVUVQOEdrUHNxSE1ic21EelArMEIrVWtFK3k1cGpWbGcrdThxbHNkQ24KenRRVlU1OC9sejJTUDdBZnNIMTNISUpzaTZ4azc3M1hSRVE0NlhxSnBvblg3NjRSajJ5Zjd4T25KMDRidGxUSgp0M3E4U0IvUFk3c2tXdHlRTjJQRDN4QVN0REVXbnUvdzNHMUxNNzYyWGJ3a1o3VlJUY1hFdEpUaTY3dWlwdy96CmhVaU9NcFplT1YxV09neit4cjJQZTZmK0NObTNYUzNVblhjUzhKYmlxajhXQmM4bzdaS2VyRnJlNGFMRElldFkKK3g5M1lYWDZYNjNCZDNvZ3JlR3BmeFdRU3hBYTBHUEtLa1dvaHNESWZRREYwZ0pKcjZSc0prOVVOWEZyaHJqMApUSTRzTGRMbCthdlJMSjFQQWdNQkFBR2pQekE5TUE0R0ExVWREd0VCL3dRRUF3SUZvREFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEQVlEVlIwVEFRSC9CQUl3QURBTkJna3Foa2lHOXcwQkFRc0YKQUFPQ0FRRUFKZ1ErVzZlYTdKZjhldmp0cWNmRC9EZUVMYzRLcFFwdk9NR0ZGVDkzQTM4bWFzeFNxVXluOGk4RgppaEplNDZFZnFkREQvcWRWSDh4TkJId2NIcjgyVDVLcFkzTWc1amJPWG1iMEoxZEdSTFRHSmdGd0ZpUXdsM3J3CmZ4dWhlYnZvaTJkcVhQbGc3L2ZZZmVqN2RkbTAxMTdhRCtwUExCN0NNUGVLdk5QSHF2N0VBRlowOU8rRjM3cjkKNTBPZEMrSk1VK0FNczRVMzVVeEZGZjRVRHVIbWM4U0l0bTJra1U3Vk1TcDFaV1VuRVZFUExaU09SZ3dZdWFNcQo3WTgzOVpXVmtyRGZMUEJrS09Ec1BVMDI3NGdmbXBpTmNyVElYREhPY2hhcFByWG53eDhxLzcrZERYYlhoUk84ClFDK2lZWVY0MVlTSGt1djNiYUtrYXlYamV0czc3Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K

---
# Source: agones/templates/controller.yaml
# Copyright 2018 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: apps/v1
kind: Deployment
metadata:
  name: agones-controller
  namespace: agones-system
  labels:
    component: controller
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
spec:
  selector:
    matchLabels:
      agones.dev/role: controller
      app: agones
      release: agones-manual
      heritage: Tiller
  replicas: 1
  strategy:
    type: Recreate
  template:
    metadata:
      annotations:
        cluster-autoscaler.kubernetes.io/safe-to-evict: "false"
        prometheus.io/scrape: "true"
        prometheus.io/port: "8080"
        prometheus.io/path: "/metrics"
      labels:
        agones.dev/role: controller
        app: agones
        release: agones-manual
        heritage: Tiller
    spec:
      affinity:
        nodeAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - preference:
              matchExpressions:
              - key: agones.dev/agones-system
                operator: Exists
            weight: 1
        
      tolerations:
        - effect: NoExecute
          key: agones.dev/agones-system
          operator: Equal
          value: "true"
        
      priorityClassName: agones-system
      serviceAccountName: agones-controller
      containers:
      - name: agones-controller
        image: "gcr.io/agones-images/agones-controller:1.4.0"
        imagePullPolicy: IfNotPresent
        env:
        # minimum port that can be exposed to GameServer traffic
        - name: MIN_PORT
          value: "7000"
        # maximum port that can be exposed to GameServer traffic
        - name: MAX_PORT
          value: "8000"
        - name: SIDECAR_IMAGE # overwrite the GameServer sidecar image that is used
          value: "gcr.io/agones-images/agones-sdk:1.4.0"
        - name: ALWAYS_PULL_SIDECAR # set the sidecar imagePullPolicy to Always
          value: "false"
        - name: SIDECAR_CPU_REQUEST
          value: "30m"
        - name: SDK_SERVICE_ACCOUNT
          value: "agones-sdk"
        - name: PROMETHEUS_EXPORTER
          value: "true"
        - name: STACKDRIVER_EXPORTER
          value: "false"
        - name: STACKDRIVER_LABELS
          value: ""
        - name: GCP_PROJECT_ID
          value: ""
        - name: SIDECAR_CPU_LIMIT
          value: "0"
        - name: NUM_WORKERS
          value: "100"
        - name: API_SERVER_QPS
          value: "400"
        - name: API_SERVER_QPS_BURST
          value: "500"
        - name: LOG_LEVEL
          value: "info"
        - name: FEATURE_GATES
          value: ""
        - name: LOG_DIR
          value: "/home/agones/logs"
        - name: LOG_SIZE_LIMIT_MB
          value: "10000"
        - name: POD_NAME
          valueFrom:
            fieldRef:
              fieldPath: metadata.name
        - name: POD_NAMESPACE
          valueFrom:
            fieldRef:
              fieldPath: metadata.namespace
        - name: CONTAINER_NAME
          value: "agones-controller"
        livenessProbe:
          httpGet:
            path: /live
            port: 8080
          initialDelaySeconds: 3
          periodSeconds: 3
          failureThreshold: 3
          timeoutSeconds: 1
        volumeMounts:
        - name: certs
          mountPath: /home/agones/certs
          readOnly: true
        - name: logs
          mountPath: /home/agones/logs
          readOnly: false
      volumes:
      - name: certs
        secret:
          secretName: agones-manual-cert
      - name: logs
        emptyDir: {}

---
# Source: agones/templates/ping.yaml
# Copyright 2018 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
apiVersion: apps/v1
kind: Deployment
metadata:
  name: agones-ping
  namespace: agones-system
  labels:
    component: ping
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
spec:
  selector:
    matchLabels:
      agones.dev/role: ping
      app: agones
      release: agones-manual
      heritage: Tiller
  replicas: 2
  template:
    metadata:
      labels:
        agones.dev/role: ping
        app: agones
        release: agones-manual
        heritage: Tiller
    spec:
      affinity:
        nodeAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
          - preference:
              matchExpressions:
              - key: agones.dev/agones-system
                operator: Exists
            weight: 1
        
      tolerations:
        - effect: NoExecute
          key: agones.dev/agones-system
          operator: Equal
          value: "true"
        
      priorityClassName: agones-system
      containers:
        - name: agones-ping
          image: "gcr.io/agones-images/agones-ping:1.4.0"
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              port: 8080
              path: /live
            initialDelaySeconds: 3
            periodSeconds: 3
            failureThreshold: 3
            timeoutSeconds: 1
          env:
          - name: HTTP_RESPONSE
            value: "ok"
          - name: UDP_RATE_LIMIT
            value: "20"
          - name: FEATURE_GATES
            value: ""
---
apiVersion: v1
kind: Service
metadata:
  name: agones-ping-http-service
  namespace: agones-system
  labels:
    component: ping
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
spec:
  selector:
    agones.dev/role: ping
  ports:
    - port: 80
      name: http
      targetPort: 8080
      protocol: TCP
  type: LoadBalancer
---
apiVersion: v1
kind: Service
metadata:
  name: agones-ping-udp-service
  namespace: agones-system
  labels:
    component: ping
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
spec:
  selector:
    agones.dev/role: ping
  ports:
    - port: 50000
      name: udp
      targetPort: 8080
      protocol: UDP
  type: LoadBalancer
---
# Source: agones/templates/extensions.yaml
# Copyright 2018 Google LLC All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
---
apiVersion: apiregistration.k8s.io/v1beta1
kind: APIService
metadata:
  name: v1.allocation.agones.dev
  labels:
    component: controller
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
spec:
  group: allocation.agones.dev
  groupPriorityMinimum: 1000
  versionPriority: 15
  service:
    name: agones-controller-service
    namespace: agones-system
  caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVLVENDQXhHZ0F3SUJBZ0lKQU9KUDY0MTB3dkdTTUEwR0NTcUdTSWIzRFFFQkN3VUFNSUdxTVFzd0NRWUQKVlFRR0V3SlZVekVUTUJFR0ExVUVDQXdLVTI5dFpTMVRkR0YwWlRFUE1BMEdBMVVFQ2d3R1FXZHZibVZ6TVE4dwpEUVlEVlFRTERBWkJaMjl1WlhNeE5EQXlCZ05WQkFNTUsyRm5iMjVsY3kxamIyNTBjbTlzYkdWeUxYTmxjblpwClkyVXVZV2R2Ym1WekxYTjVjM1JsYlM1emRtTXhMakFzQmdrcWhraUc5dzBCQ1FFV0gyRm5iMjVsY3kxa2FYTmoKZFhOelFHZHZiMmRzWldkeWIzVndjeTVqYjIwd0hoY05NVGd3TWpFME1EUTBORFEyV2hjTk1qZ3dNakV5TURRMApORFEyV2pDQnFqRUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdNQ2xOdmJXVXRVM1JoZEdVeER6QU5CZ05WCkJBb01Ca0ZuYjI1bGN6RVBNQTBHQTFVRUN3d0dRV2R2Ym1Wek1UUXdNZ1lEVlFRRERDdGhaMjl1WlhNdFkyOXUKZEhKdmJHeGxjaTF6WlhKMmFXTmxMbUZuYjI1bGN5MXplWE4wWlcwdWMzWmpNUzR3TEFZSktvWklodmNOQVFrQgpGaDloWjI5dVpYTXRaR2x6WTNWemMwQm5iMjluYkdWbmNtOTFjSE11WTI5dE1JSUJJakFOQmdrcWhraUc5dzBCCkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXpnVlQ5MGVqeE5ud0NvL09qTUQyNmZVNGRya1NlZndkUWd3aWJpZmEKbDhyazZZMFZ2T0lWMUgrbFJvd2UwNm1XTnVSNUZPWEZBMGZYbHZ4Q0tLWVZRcFNQRUsyWVN5aC9hU25KUUw2cQpvOGVBWVRKQmtPWUxCNUNiekl6aVdlb1FmT1lOOE1sRW44YlhKZGllSmhISDhVbnlqdHlvVGx4emhabVgrcGZ0CmhVZGVhM1Zrek8yMW40K1FFM1JYNWYxMzJGVEZjdXFYT1VBL3BpOGNjQU5HYzN6akxlWkp2QTlvZFBFaEdmN2cKQzhleUE2OFNWY3NoK1BqejBsdzk1QVB2bE12MWptcVVSRldjRVNUTGFRMEZ4NUt3UnlWMHppWm1VdkFBRjJaeApEWmhIVWNvRlBIQXdUbDc1TkFobkhwTWxMTnA1TDd0Y1ZkeVQ4QjJHUnMrc2xRSURBUUFCbzFBd1RqQWRCZ05WCkhRNEVGZ1FVZ3YxblRQYVFKU04zTHFtNWpJalc0eEhtZEcwd0h3WURWUjBqQkJnd0ZvQVVndjFuVFBhUUpTTjMKTHFtNWpJalc0eEhtZEcwd0RBWURWUjBUQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBSEtFQwprdEVqWU5VQ0ErbXlzejRvclc3cFJVdmhCSERWU2dzWTZlRVZSTHpmLzF5SVpFMHU2NTZrcEs2T1Q3TWhKR2xVCkt3R1NTb1VCQnpWZ1VzWmpEbTdQZ2JrNGlZem40TTF4THpiTFFCcjNNYzV6WEhlZlB2YmltaEQ1NWNMenBWRnUKVlFtQm1aVjJOalU1RHVTZFJuZGxjUGFOY2cvdU9jdlpLNEtZMUtDQkEzRW9BUUlrcHpIWDJpVU1veGlSdlpWTgpORXdnRlR0SUdCWW4wSGZML3ZnT3NIOGZWck1Va3VHMnZoR2RlWEJwWmlxL0JaSmJaZU4yckNmMmdhWDFRSXYwCkVLYmN1RnFNOThXVDVaVlpSdFgxWTNSd2V2ZzRteFlKWEN1SDZGRjlXOS9TejI5NEZ5Mk9CS0I4SkFWYUV4OW4KMS9pNmZJZmZHbkhUWFdIc1ZRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  version: v1
---
apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  name: agones-validation-webhook
  labels:
    component: controller
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
webhooks:
  - name: validations.agones.dev
    failurePolicy: Fail
    clientConfig:
      service:
        name: agones-controller-service
        namespace: agones-system
        path: /validate
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVLVENDQXhHZ0F3SUJBZ0lKQU9KUDY0MTB3dkdTTUEwR0NTcUdTSWIzRFFFQkN3VUFNSUdxTVFzd0NRWUQKVlFRR0V3SlZVekVUTUJFR0ExVUVDQXdLVTI5dFpTMVRkR0YwWlRFUE1BMEdBMVVFQ2d3R1FXZHZibVZ6TVE4dwpEUVlEVlFRTERBWkJaMjl1WlhNeE5EQXlCZ05WQkFNTUsyRm5iMjVsY3kxamIyNTBjbTlzYkdWeUxYTmxjblpwClkyVXVZV2R2Ym1WekxYTjVjM1JsYlM1emRtTXhMakFzQmdrcWhraUc5dzBCQ1FFV0gyRm5iMjVsY3kxa2FYTmoKZFhOelFHZHZiMmRzWldkeWIzVndjeTVqYjIwd0hoY05NVGd3TWpFME1EUTBORFEyV2hjTk1qZ3dNakV5TURRMApORFEyV2pDQnFqRUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdNQ2xOdmJXVXRVM1JoZEdVeER6QU5CZ05WCkJBb01Ca0ZuYjI1bGN6RVBNQTBHQTFVRUN3d0dRV2R2Ym1Wek1UUXdNZ1lEVlFRRERDdGhaMjl1WlhNdFkyOXUKZEhKdmJHeGxjaTF6WlhKMmFXTmxMbUZuYjI1bGN5MXplWE4wWlcwdWMzWmpNUzR3TEFZSktvWklodmNOQVFrQgpGaDloWjI5dVpYTXRaR2x6WTNWemMwQm5iMjluYkdWbmNtOTFjSE11WTI5dE1JSUJJakFOQmdrcWhraUc5dzBCCkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXpnVlQ5MGVqeE5ud0NvL09qTUQyNmZVNGRya1NlZndkUWd3aWJpZmEKbDhyazZZMFZ2T0lWMUgrbFJvd2UwNm1XTnVSNUZPWEZBMGZYbHZ4Q0tLWVZRcFNQRUsyWVN5aC9hU25KUUw2cQpvOGVBWVRKQmtPWUxCNUNiekl6aVdlb1FmT1lOOE1sRW44YlhKZGllSmhISDhVbnlqdHlvVGx4emhabVgrcGZ0CmhVZGVhM1Zrek8yMW40K1FFM1JYNWYxMzJGVEZjdXFYT1VBL3BpOGNjQU5HYzN6akxlWkp2QTlvZFBFaEdmN2cKQzhleUE2OFNWY3NoK1BqejBsdzk1QVB2bE12MWptcVVSRldjRVNUTGFRMEZ4NUt3UnlWMHppWm1VdkFBRjJaeApEWmhIVWNvRlBIQXdUbDc1TkFobkhwTWxMTnA1TDd0Y1ZkeVQ4QjJHUnMrc2xRSURBUUFCbzFBd1RqQWRCZ05WCkhRNEVGZ1FVZ3YxblRQYVFKU04zTHFtNWpJalc0eEhtZEcwd0h3WURWUjBqQkJnd0ZvQVVndjFuVFBhUUpTTjMKTHFtNWpJalc0eEhtZEcwd0RBWURWUjBUQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBSEtFQwprdEVqWU5VQ0ErbXlzejRvclc3cFJVdmhCSERWU2dzWTZlRVZSTHpmLzF5SVpFMHU2NTZrcEs2T1Q3TWhKR2xVCkt3R1NTb1VCQnpWZ1VzWmpEbTdQZ2JrNGlZem40TTF4THpiTFFCcjNNYzV6WEhlZlB2YmltaEQ1NWNMenBWRnUKVlFtQm1aVjJOalU1RHVTZFJuZGxjUGFOY2cvdU9jdlpLNEtZMUtDQkEzRW9BUUlrcHpIWDJpVU1veGlSdlpWTgpORXdnRlR0SUdCWW4wSGZML3ZnT3NIOGZWck1Va3VHMnZoR2RlWEJwWmlxL0JaSmJaZU4yckNmMmdhWDFRSXYwCkVLYmN1RnFNOThXVDVaVlpSdFgxWTNSd2V2ZzRteFlKWEN1SDZGRjlXOS9TejI5NEZ5Mk9CS0I4SkFWYUV4OW4KMS9pNmZJZmZHbkhUWFdIc1ZRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    rules:
      - apiGroups:
          - agones.dev
        resources:
          - "fleets"
          - "gameservers"
          - "gameserversets"
        apiVersions:
          - "v1"
        operations:
          - CREATE
      - apiGroups:
          - agones.dev
        resources:
          - "fleets"
          - "gameserversets"
        apiVersions:
          - "v1"
        operations:
          - UPDATE
      - apiGroups:
          - autoscaling.agones.dev
        resources:
          - "fleetautoscalers"
        apiVersions:
          - "v1"
        operations:
          - CREATE
          - UPDATE

---
apiVersion: admissionregistration.k8s.io/v1beta1
kind: MutatingWebhookConfiguration
metadata:
  name: agones-mutation-webhook
  labels:
    component: controller
    app: agones
    chart: agones-1.4.0
    release: agones-manual
    heritage: Tiller
webhooks:
  - name: mutations.agones.dev
    failurePolicy: Fail
    clientConfig:
      service:
        name: agones-controller-service
        namespace: agones-system
        path: /mutate
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVLVENDQXhHZ0F3SUJBZ0lKQU9KUDY0MTB3dkdTTUEwR0NTcUdTSWIzRFFFQkN3VUFNSUdxTVFzd0NRWUQKVlFRR0V3SlZVekVUTUJFR0ExVUVDQXdLVTI5dFpTMVRkR0YwWlRFUE1BMEdBMVVFQ2d3R1FXZHZibVZ6TVE4dwpEUVlEVlFRTERBWkJaMjl1WlhNeE5EQXlCZ05WQkFNTUsyRm5iMjVsY3kxamIyNTBjbTlzYkdWeUxYTmxjblpwClkyVXVZV2R2Ym1WekxYTjVjM1JsYlM1emRtTXhMakFzQmdrcWhraUc5dzBCQ1FFV0gyRm5iMjVsY3kxa2FYTmoKZFhOelFHZHZiMmRzWldkeWIzVndjeTVqYjIwd0hoY05NVGd3TWpFME1EUTBORFEyV2hjTk1qZ3dNakV5TURRMApORFEyV2pDQnFqRUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdNQ2xOdmJXVXRVM1JoZEdVeER6QU5CZ05WCkJBb01Ca0ZuYjI1bGN6RVBNQTBHQTFVRUN3d0dRV2R2Ym1Wek1UUXdNZ1lEVlFRRERDdGhaMjl1WlhNdFkyOXUKZEhKdmJHeGxjaTF6WlhKMmFXTmxMbUZuYjI1bGN5MXplWE4wWlcwdWMzWmpNUzR3TEFZSktvWklodmNOQVFrQgpGaDloWjI5dVpYTXRaR2x6WTNWemMwQm5iMjluYkdWbmNtOTFjSE11WTI5dE1JSUJJakFOQmdrcWhraUc5dzBCCkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXpnVlQ5MGVqeE5ud0NvL09qTUQyNmZVNGRya1NlZndkUWd3aWJpZmEKbDhyazZZMFZ2T0lWMUgrbFJvd2UwNm1XTnVSNUZPWEZBMGZYbHZ4Q0tLWVZRcFNQRUsyWVN5aC9hU25KUUw2cQpvOGVBWVRKQmtPWUxCNUNiekl6aVdlb1FmT1lOOE1sRW44YlhKZGllSmhISDhVbnlqdHlvVGx4emhabVgrcGZ0CmhVZGVhM1Zrek8yMW40K1FFM1JYNWYxMzJGVEZjdXFYT1VBL3BpOGNjQU5HYzN6akxlWkp2QTlvZFBFaEdmN2cKQzhleUE2OFNWY3NoK1BqejBsdzk1QVB2bE12MWptcVVSRldjRVNUTGFRMEZ4NUt3UnlWMHppWm1VdkFBRjJaeApEWmhIVWNvRlBIQXdUbDc1TkFobkhwTWxMTnA1TDd0Y1ZkeVQ4QjJHUnMrc2xRSURBUUFCbzFBd1RqQWRCZ05WCkhRNEVGZ1FVZ3YxblRQYVFKU04zTHFtNWpJalc0eEhtZEcwd0h3WURWUjBqQkJnd0ZvQVVndjFuVFBhUUpTTjMKTHFtNWpJalc0eEhtZEcwd0RBWURWUjBUQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBSEtFQwprdEVqWU5VQ0ErbXlzejRvclc3cFJVdmhCSERWU2dzWTZlRVZSTHpmLzF5SVpFMHU2NTZrcEs2T1Q3TWhKR2xVCkt3R1NTb1VCQnpWZ1VzWmpEbTdQZ2JrNGlZem40TTF4THpiTFFCcjNNYzV6WEhlZlB2YmltaEQ1NWNMenBWRnUKVlFtQm1aVjJOalU1RHVTZFJuZGxjUGFOY2cvdU9jdlpLNEtZMUtDQkEzRW9BUUlrcHpIWDJpVU1veGlSdlpWTgpORXdnRlR0SUdCWW4wSGZML3ZnT3NIOGZWck1Va3VHMnZoR2RlWEJwWmlxL0JaSmJaZU4yckNmMmdhWDFRSXYwCkVLYmN1RnFNOThXVDVaVlpSdFgxWTNSd2V2ZzRteFlKWEN1SDZGRjlXOS9TejI5NEZ5Mk9CS0I4SkFWYUV4OW4KMS9pNmZJZmZHbkhUWFdIc1ZRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    rules:
      - apiGroups:
          - agones.dev
        resources:
          - "gameservers"
          - "fleets"
        apiVersions:
          - "v1"
        operations:
          - CREATE
---
apiVersion: v1
kind: Secret
metadata:
  name: agones-manual-cert
  namespace: agones-system
  labels:
    app: agones-manual
    chart: "agones-1.4.0"
    release: "agones-manual"
    heritage: "Tiller"
type: Opaque
data:
  server.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVLVENDQXhHZ0F3SUJBZ0lKQU9KUDY0MTB3dkdTTUEwR0NTcUdTSWIzRFFFQkN3VUFNSUdxTVFzd0NRWUQKVlFRR0V3SlZVekVUTUJFR0ExVUVDQXdLVTI5dFpTMVRkR0YwWlRFUE1BMEdBMVVFQ2d3R1FXZHZibVZ6TVE4dwpEUVlEVlFRTERBWkJaMjl1WlhNeE5EQXlCZ05WQkFNTUsyRm5iMjVsY3kxamIyNTBjbTlzYkdWeUxYTmxjblpwClkyVXVZV2R2Ym1WekxYTjVjM1JsYlM1emRtTXhMakFzQmdrcWhraUc5dzBCQ1FFV0gyRm5iMjVsY3kxa2FYTmoKZFhOelFHZHZiMmRzWldkeWIzVndjeTVqYjIwd0hoY05NVGd3TWpFME1EUTBORFEyV2hjTk1qZ3dNakV5TURRMApORFEyV2pDQnFqRUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdNQ2xOdmJXVXRVM1JoZEdVeER6QU5CZ05WCkJBb01Ca0ZuYjI1bGN6RVBNQTBHQTFVRUN3d0dRV2R2Ym1Wek1UUXdNZ1lEVlFRRERDdGhaMjl1WlhNdFkyOXUKZEhKdmJHeGxjaTF6WlhKMmFXTmxMbUZuYjI1bGN5MXplWE4wWlcwdWMzWmpNUzR3TEFZSktvWklodmNOQVFrQgpGaDloWjI5dVpYTXRaR2x6WTNWemMwQm5iMjluYkdWbmNtOTFjSE11WTI5dE1JSUJJakFOQmdrcWhraUc5dzBCCkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXpnVlQ5MGVqeE5ud0NvL09qTUQyNmZVNGRya1NlZndkUWd3aWJpZmEKbDhyazZZMFZ2T0lWMUgrbFJvd2UwNm1XTnVSNUZPWEZBMGZYbHZ4Q0tLWVZRcFNQRUsyWVN5aC9hU25KUUw2cQpvOGVBWVRKQmtPWUxCNUNiekl6aVdlb1FmT1lOOE1sRW44YlhKZGllSmhISDhVbnlqdHlvVGx4emhabVgrcGZ0CmhVZGVhM1Zrek8yMW40K1FFM1JYNWYxMzJGVEZjdXFYT1VBL3BpOGNjQU5HYzN6akxlWkp2QTlvZFBFaEdmN2cKQzhleUE2OFNWY3NoK1BqejBsdzk1QVB2bE12MWptcVVSRldjRVNUTGFRMEZ4NUt3UnlWMHppWm1VdkFBRjJaeApEWmhIVWNvRlBIQXdUbDc1TkFobkhwTWxMTnA1TDd0Y1ZkeVQ4QjJHUnMrc2xRSURBUUFCbzFBd1RqQWRCZ05WCkhRNEVGZ1FVZ3YxblRQYVFKU04zTHFtNWpJalc0eEhtZEcwd0h3WURWUjBqQkJnd0ZvQVVndjFuVFBhUUpTTjMKTHFtNWpJalc0eEhtZEcwd0RBWURWUjBUQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBSEtFQwprdEVqWU5VQ0ErbXlzejRvclc3cFJVdmhCSERWU2dzWTZlRVZSTHpmLzF5SVpFMHU2NTZrcEs2T1Q3TWhKR2xVCkt3R1NTb1VCQnpWZ1VzWmpEbTdQZ2JrNGlZem40TTF4THpiTFFCcjNNYzV6WEhlZlB2YmltaEQ1NWNMenBWRnUKVlFtQm1aVjJOalU1RHVTZFJuZGxjUGFOY2cvdU9jdlpLNEtZMUtDQkEzRW9BUUlrcHpIWDJpVU1veGlSdlpWTgpORXdnRlR0SUdCWW4wSGZML3ZnT3NIOGZWck1Va3VHMnZoR2RlWEJwWmlxL0JaSmJaZU4yckNmMmdhWDFRSXYwCkVLYmN1RnFNOThXVDVaVlpSdFgxWTNSd2V2ZzRteFlKWEN1SDZGRjlXOS9TejI5NEZ5Mk9CS0I4SkFWYUV4OW4KMS9pNmZJZmZHbkhUWFdIc1ZRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  server.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBemdWVDkwZWp4Tm53Q28vT2pNRDI2ZlU0ZHJrU2Vmd2RRZ3dpYmlmYWw4cms2WTBWCnZPSVYxSCtsUm93ZTA2bVdOdVI1Rk9YRkEwZlhsdnhDS0tZVlFwU1BFSzJZU3loL2FTbkpRTDZxbzhlQVlUSkIKa09ZTEI1Q2J6SXppV2VvUWZPWU44TWxFbjhiWEpkaWVKaEhIOFVueWp0eW9UbHh6aFptWCtwZnRoVWRlYTNWawp6TzIxbjQrUUUzUlg1ZjEzMkZURmN1cVhPVUEvcGk4Y2NBTkdjM3pqTGVaSnZBOW9kUEVoR2Y3Z0M4ZXlBNjhTClZjc2grUGp6MGx3OTVBUHZsTXYxam1xVVJGV2NFU1RMYVEwRng1S3dSeVYwemlabVV2QUFGMlp4RFpoSFVjb0YKUEhBd1RsNzVOQWhuSHBNbExOcDVMN3RjVmR5VDhCMkdScytzbFFJREFRQUJBb0lCQUVvVTVHS1E0alRRNFY0Swo1QXo4L2t5V254MGg0NkQxcFZld29WalcvK1dCVWRzaG5tVnpMc0pndS8rb054V0piN2lCWTRDK05wKzlYNnF0ClB1VDdBNzRUU1hhSDFiR0ErSC9LUk5JQlBiN3k2QmtMUjBSaFZDbitOK2ZQNlR6SHkvSDlqNW03NWU5R1F1c2EKLzVOVTVYN0FSblpVcGppM1Nkc0twZm00VS9LT1YrcDJqV1NQWDdIT0J1L0tZYTFqdmVDdDZKTVBRMzZLQlhrUgpNbFZDa0FEY3ZBQUd1T2JwYS9zbTBNQTYzK2loZGVTWWhrRVhLcXhINEF6M1BWREx3UDgwVDhmNVZxd1dZbW5xCkwvQmc2SG5WNUdIbmxUWEErV2VwTmJIa29rTjlHMEg2bTBJdGo0YWwzYkdUQjRqZUJDSlpwNUZIVzVvYko0cVAKV2tjZlhjRUNnWUVBOFVJWnZkTlNzU3BSWlZUZTRoaHRYbmNPcHRGVGRvVktJelR1VVZLZktlOU9CNWkzMkI5dQo0aEROcEJEcWtnRWt0ZzRSOC9jbjU3ejZaVWRVQ2NvYmpXUWJKTFhFNXdwN0h0ZjdqQ0duTDJRbUljcDIwcmJGCkhyRTJsSHIwb05yM01MVXJ1QnZBclZCM0xMR21PRWduM05RdzlhSndnLzU0MkVEUzd4NXYzWGtDZ1lFQTJwd0cKSGlHWVhUSmZZTmcvK1NtRHVTRFdGZTRpTVBUUncxVFQ4NXVHRTlVRXJZUFFkOE9xWVFRT2dJQVQ3eHAxejBvcQo2cG1zalBPNkhabmc5b0hLZUFPL0pQZVN1WEUrYko4SFlLcDdXOTI5RitMR0pvcWl0T0xQTW0vOU9vdllEQ3ZoCjYrcURZNUxOUkhkQWVUcXd3STJ5dWdmNFluQmpZNnpJZkJwNUxQMENnWUVBeXJydjVKcVNienVQUUdaTUVKUFUKTzhBeCtLNEh3NTJIeWdQdGl6cXhjc3lidGpoM3JFM2xvR1BjV2RTNU9FMXJxdXd4Mjk5QmtqTXoraTB4Q2pUaQphRExKdUZSaURIKzdMQlQwVlRIbVNpV1BBWEFmM3pza2M0RVl5elp6SUVRLzJaYzBFTGFKZDFvWmV0NGhQa1FyCjh4My9zamw0OFFIQ1RINVVnZ2tDbVlrQ2dZQWZLL3BQVjVrRFNRaUNwYk5Sa3hMZVZnbFE3VGpnNURmNDgyS1oKclFhTVUyYXNXMHhobDN2M0EzNFI0ckYwK2Ivc3cvV2txQzhMbGtGbXNTZDczdndBNnYvWmhKZmVhNEJzT3F6eApvcjJlVnRyOHlmQlpWSkZvMjZLUjNaZ3RQZjJibHJKTFVwQlRwWDR4a2hPV2RjRDRZL3dsUExlMVNiTlNaalBjClJtWWEvUUtCZ1FDNmE3ek5BU1AwQTBxTVBocXlKWmxiZzRGOFdNUnRnSEZmc3kvaUx3ZGlFVUd1Q2hRV1VMa2MKaHpQV3BqRDB6d3JTeFp0eWhTTDBiNlRIbnFUaWluMjNPdnRJTmxWaVptb3M1bVdXMFZlR3NiSG5KdVJhM1RIeQpFalNrU1A0bVI3dEpsSm9rYm9aK2xZTDdnQUJIbjJFUm5Ec3FYOG9FVTZRcERQMXJaaFlTemc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=

---
# Source: agones/templates/priority-class.yaml

apiVersion: scheduling.k8s.io/v1beta1
kind: PriorityClass
metadata:
  name: agones-system
value: 1000000
globalDefault: false
description: "This priority class should be used for Agones service pods only."
---
# Source: agones/templates/hooks/pre_delete_hook.yaml


---
# Source: agones/templates/hooks/sa.yaml


---
# Source: agones/templates/hooks/scripts.yaml


